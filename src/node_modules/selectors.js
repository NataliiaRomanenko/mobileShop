import * as R from 'ramda'
export const getPhoneById = (state, id) => state.phones[id];

export const getPhones = state => {
    const applySearch = item => R.contains(
        state.phonesPage.search,
        item.name);
    const arrPhones = state.phonesPage.ids.map(id => getPhoneById(state,id));
    const phones =  arrPhones.filter(applySearch)

    return phones
};

export const getRenderedPhonesLength = state => state.phonesPage.ids.length;

export const getTotalBasketPrice = state => {
    const arrPhoneBasket = state.basket.map(id => getPhoneById(state,id));//[] добавленных телефонов в корзину
    const arrPrice = arrPhoneBasket.map(price => price.price);//создаем [] из цен
    const totalPrice = arrPrice.reduce(( accumulator, currentValue ) => accumulator + currentValue, 0); //находим сумму цен из массива
    return totalPrice
}
export const getTotalBasketCount = state => state.basket.length;

export const getCategories = state => Object.values(state.categories)//преобразовываем объект в массив ;

export const getActiveCategoryId = ownProps => ownProps.match.params.id;
